(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{227:()=>{},3620:(e,a,t)=>{Promise.resolve().then(t.t.bind(t,2619,23)),Promise.resolve().then(t.bind(t,9965)),Promise.resolve().then(t.t.bind(t,6037,23)),Promise.resolve().then(t.t.bind(t,227,23)),Promise.resolve().then(t.t.bind(t,5102,23))},5102:()=>{},6037:()=>{},9720:()=>{},9965:(e,a,t)=>{"use strict";t.d(a,{default:()=>i});var s=t(5155),n=t(2115),r=t(1141);t(9720);var l=t(5704);let i=e=>{let{fields:a}=e,[t,i]=(0,n.useState)({}),[o,m]=(0,n.useState)("idle"),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(null),p=(0,n.useMemo)(()=>a.find(e=>"recaptcha"===e.type),[a]),b=l.env.NEXT_PUBLIC_RECAPTCHA_SITE_KEY;(0,n.useEffect)(()=>{d("")},[t]);let v=(e,a)=>{i(t=>({...t,[e]:a}))},f=async e=>{e.preventDefault(),m("submitting"),d("");try{let e=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fields:a.map(e=>{var a;return{...e,value:"recaptcha"===e.type?u:null!=(a=t[e.name])?a:""}})})});if(!e.ok){let a=await e.json().catch(()=>({}));throw Error((null==a?void 0:a.message)||"Failed to send message")}m("success"),d("Message sent. We will get back to you soon."),i({}),h(null)}catch(e){console.error(e),m("error"),d("Unable to send the message right now. Please try again or email us directly.")}};return(0,s.jsxs)("form",{className:"contact-form space-y-4",onSubmit:f,children:[a.filter(e=>"recaptcha"!==e.type).map(e=>{var a;return(0,s.jsxs)("div",{className:"form-field",children:[(0,s.jsxs)("label",{className:"form-label",htmlFor:e.name,children:[e.label,e.required&&(0,s.jsx)("span",{className:"text-red-300",children:"*"})]}),"textarea"===e.type?(0,s.jsx)("textarea",{id:e.name,name:e.name,required:e.required,className:"form-control",value:t[e.name]||"",onChange:a=>v(e.name,a.target.value)}):"choice"===e.type?(0,s.jsxs)("select",{id:e.name,name:e.name,required:e.required,className:"form-control",value:t[e.name]||"",onChange:a=>v(e.name,a.target.value),children:[(0,s.jsx)("option",{value:"",children:"Select..."}),null==(a=e.options)?void 0:a.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]}):(0,s.jsx)("input",{id:e.name,name:e.name,type:"email"===e.type?"email":"text",required:e.required,className:"form-control",value:t[e.name]||"",onChange:a=>v(e.name,a.target.value)})]},e.name)}),p&&b&&(0,s.jsx)("div",{className:"form-field",children:(0,s.jsx)(r.A,{sitekey:b,onChange:e=>h(e)})}),(0,s.jsx)("button",{type:"submit",className:"submit-btn",disabled:"submitting"===o,"aria-busy":"submitting"===o,children:"submitting"===o?"Sending...":"Send message"}),c&&(0,s.jsx)("p",{className:"text-sm ".concat("success"===o?"text-green-300":"text-red-300"),children:c})]})}}},e=>{e.O(0,[495,965,619,141,441,255,358],()=>e(e.s=3620)),_N_E=e.O()}]);