{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Open BeatBox Wiki","text":"<p>Welcome to the project wiki for the Beatbox content-driven Next.js site. This space centralizes onboarding, development workflow, architecture notes, and operations runbooks so contributors can move quickly and safely.</p>"},{"location":"#quick-links","title":"Quick links","text":"<ul> <li>Start coding: Getting Started</li> <li>How we build and ship: Development</li> <li>Voice, tone, and formatting: Content Style</li> <li>System overview: Architecture</li> <li>Contribute changes: Contributing</li> <li>Runbooks and deployments: Operations</li> </ul>"},{"location":"#what-this-repo-is","title":"What this repo is","text":"<ul> <li>A Next.js 15 App Router site where all page structure and copy live in <code>content/</code> Markdown.</li> <li>Components render sections like hero blocks, text, lists, FAQs, and links from frontmatter-driven content.</li> <li>A contact API route relays sanitized form submissions to Mailgun (see environment variables in Operations).</li> </ul>"},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#overview","title":"Overview","text":"<ul> <li>Next.js 15 App Router project that renders all pages from Markdown in <code>content/</code>.</li> <li>Frontmatter drives layout, hero blocks, navigation, and metadata; bodies render via <code>react-markdown</code> with safe HTML enabled through sanitization.</li> <li>Content loading, navigation, and metadata derivation live in <code>src/lib/content.ts</code> with helper utilities in <code>src/lib/utils.ts</code>.</li> </ul>"},{"location":"architecture/#key-directories","title":"Key directories","text":"<ul> <li><code>content/</code> \u2014 Markdown for pages and blog posts (<code>content/blog/</code>). <code>_site.md</code> stores global metadata (title, description, authors, default OG/Twitter assets).</li> <li><code>src/app/</code> \u2014 App Router routes, layout, sitemap/robots, loading and not-found states, API routes (including <code>api/send-email</code>).</li> <li><code>src/components/</code> \u2014 Reusable UI blocks for hero sections, content sections, navigation, and layout.</li> <li><code>src/lib/</code> \u2014 Content parsing, icon registry, utilities (text truncation, formatting).</li> <li><code>public/</code> \u2014 Static assets (images, icons).</li> <li><code>styles/</code> \u2014 Tailwind layer config plus scoped component CSS for glass/hero styling.</li> </ul>"},{"location":"architecture/#content-pipeline","title":"Content pipeline","text":"<ol> <li>Markdown is parsed with <code>gray-matter</code> for frontmatter and content body.</li> <li>Slugs default to the relative path (with <code>/home</code> mapped to <code>/</code>) unless explicitly set.</li> <li>Navigation is derived from pages with <code>showInNav</code> and ordered by <code>navOrder</code>; groups use <code>navGroup</code>.</li> <li>Blog posts respect <code>publishAt</code>; future-dated posts stay hidden.</li> <li>SEO metadata is built from page fields with fallbacks from <code>_site.md</code> (title, description, OG/Twitter defaults). Hero background images or the first Markdown image are used as OG images when available.</li> </ol>"},{"location":"architecture/#rendering-and-styling","title":"Rendering and styling","text":"<ul> <li>Markdown renders through <code>react-markdown</code> with <code>remark-gfm</code> and sanitized raw HTML via <code>rehype-raw</code> + <code>rehype-sanitize</code>.</li> <li>Tailwind CSS v4 (via <code>@tailwindcss/postcss</code>) provides utility layers; component-specific CSS refines the glass aesthetic.</li> <li>Fonts are loaded through <code>src/app/fonts.css</code>; global styles in <code>src/app/globals.css</code>.</li> </ul>"},{"location":"architecture/#api-and-integrations","title":"API and integrations","text":"<ul> <li>Contact form posts to <code>/api/send-email</code>, sanitizes inputs, and forwards through Mailgun. Configure <code>MAILGUN_API_KEY</code>, <code>MAILGUN_DOMAIN</code>, <code>MAILGUN_API_URL</code>, <code>MAILGUN_FROM_EMAIL</code>, and <code>MAILGUN_TO_EMAIL</code>.</li> <li>Optional Google reCAPTCHA: set <code>NEXT_PUBLIC_RECAPTCHA_SITE_KEY</code> and wire the client component.</li> </ul>"},{"location":"architecture/#build-and-output","title":"Build and output","text":"<ul> <li><code>npm run build</code> produces the production bundle under <code>.next/</code>.</li> <li><code>mkdocs build</code> (for this wiki) outputs to <code>site/</code> when needed; keep it untracked or publish via a docs-specific pipeline.</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>Use this page to capture notable changes for each release. Keep entries concise and link to pull requests or issues when useful.</p>"},{"location":"changelog/#unreleased","title":"Unreleased","text":"<ul> <li>Add new entries here as work lands.</li> </ul>"},{"location":"changelog/#template","title":"Template","text":"<ul> <li>Date / Version \u2014 short description of the change.</li> <li>Highlights: bullets of key updates.</li> <li>Links: PRs/issues (e.g., #123).</li> </ul>"},{"location":"content-style/","title":"Content Style Guide","text":""},{"location":"content-style/#voice-and-tone","title":"Voice and tone","text":"<ul> <li>Clear, concise, and confident; favor active voice.</li> <li>Assume readers are technically capable but new to the project.</li> <li>Define domain terms on first use; avoid unexplained acronyms.</li> </ul>"},{"location":"content-style/#formatting","title":"Formatting","text":"<ul> <li>One H1 per page; use logical heading hierarchy.</li> <li>Prefer short paragraphs and bullet lists.</li> <li>Use fenced code blocks with language hints (<code>```bash</code>, <code>```ts</code>).</li> <li>Always include alt text for images; store assets in <code>docs/assets/</code> or <code>public/</code> as appropriate.</li> </ul>"},{"location":"content-style/#links-and-navigation","title":"Links and navigation","text":"<ul> <li>Use relative links between wiki pages (e.g., <code>[Development](development.md)</code>).</li> <li>Keep link text descriptive (<code>Preview locally</code> instead of <code>click here</code>).</li> <li>Update <code>mkdocs.yml</code> when adding new pages so navigation stays current.</li> </ul>"},{"location":"content-style/#examples","title":"Examples","text":"<ul> <li>Good: \u201cRun <code>npm run build</code> before merging to catch integration issues.\u201d</li> <li>Avoid: \u201cJust run the build\u201d (vague) or \u201cobviously\u201d (assumes knowledge).</li> </ul>"},{"location":"content-style/#writing-for-the-site-content","title":"Writing for the site content","text":"<ul> <li>Keep hero titles punchy; subtitles should clarify value.</li> <li>Section titles should summarize the takeaway (\u201cWhy Beatbox for home-cage tasks?\u201d).</li> <li>For FAQs, answer directly in the first sentence, then add detail if needed.</li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#code-of-conduct","title":"Code of conduct","text":"<p>Be respectful and constructive. Assume good intent, and surface concerns with empathy. Escalate harmful behavior to maintainers.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to contribute","text":"<ul> <li>File issues with clear steps, expected vs. actual behavior, and screenshots when helpful.</li> <li>Improve content structure and copy in <code>content/</code>.</li> <li>Extend components or styling to support new section types.</li> <li>Enhance documentation and runbooks in <code>docs/</code>.</li> </ul>"},{"location":"contributing/#pull-request-checklist","title":"Pull request checklist","text":"<ul> <li>[ ] Branch created from <code>main</code></li> <li>[ ] <code>npm run lint</code>, <code>npm run type-check</code>, <code>npm run test</code>, and <code>npm run build</code> pass</li> <li>[ ] For docs: <code>mkdocs build --strict</code> passes</li> <li>[ ] Links and assets verified; navigation updated if needed</li> <li>[ ] PR description explains what/why, testing performed, and screenshots for UI changes</li> </ul>"},{"location":"contributing/#reviews-and-approvals","title":"Reviews and approvals","text":"<ul> <li>Seek at least one maintainer review for non-trivial changes.</li> <li>Address feedback with follow-up commits (avoid force-push when possible to keep context).</li> <li>Re-run validations after major updates.</li> </ul>"},{"location":"contributing/#filing-issues","title":"Filing issues","text":"<ul> <li>Use a descriptive title.</li> <li>Include environment info (OS, browser, Node.js version).</li> <li>Provide reproduction steps or sample content snippets that trigger the issue.</li> </ul>"},{"location":"development/","title":"Development","text":""},{"location":"development/#branching-and-flow","title":"Branching and flow","text":"<ul> <li>Create topic branches from <code>main</code> (e.g., <code>feature/&lt;topic&gt;</code> or <code>dax/&lt;topic&gt;</code>).</li> <li>Keep commits small and purposeful; write present-tense messages (<code>Add community docs</code>).</li> <li>Open pull requests early for feedback; request at least one review before merging.</li> </ul>"},{"location":"development/#core-commands","title":"Core commands","text":"<ul> <li>Dev server: <code>npm run dev</code></li> <li>Lint: <code>npm run lint</code></li> <li>Types: <code>npm run type-check</code></li> <li>Tests: <code>npm run test</code></li> <li>Build: <code>npm run build</code></li> <li>Docs preview: <code>mkdocs serve</code></li> </ul>"},{"location":"development/#content-workflow","title":"Content workflow","text":"<ol> <li>Add or edit Markdown in <code>content/</code>.</li> <li>Ensure frontmatter includes <code>layout</code>, <code>slug</code>, <code>hero</code>, <code>sections</code>, and navigation fields when needed.</li> <li>For blog posts, confirm <code>publishAt</code> is set and in the past if you want it live.</li> <li>Check SEO: hero images, metadata in <code>content/_site.md</code>, and page-level overrides as needed.</li> <li>Run <code>npm run dev</code> to visually verify sections render correctly.</li> </ol>"},{"location":"development/#quality-gates","title":"Quality gates","text":"<ul> <li><code>npm run lint</code> and <code>npm run type-check</code> must pass.</li> <li><code>npm run build</code> before merging larger changes to catch integration issues.</li> <li><code>mkdocs build --strict</code> before publishing wiki updates to avoid broken links.</li> <li>Add screenshots or diagrams to <code>docs/assets/</code> when useful and reference them with relative paths.</li> </ul>"},{"location":"development/#security-and-data-handling","title":"Security and data handling","text":"<ul> <li>The contact endpoint sanitizes fields, but keep payloads minimal and avoid collecting sensitive data unnecessarily.</li> <li>Do not commit secrets; use <code>.env.local</code> for local development and platform-specific secret storage in deployment environments.</li> </ul>"},{"location":"faq/","title":"FAQ","text":"<ul> <li>How do I preview the site locally? Run <code>npm run dev</code> and open http://localhost:3000.</li> <li>Where do docs live? Project wiki files are in <code>docs/</code>; site content lives in <code>content/</code>.</li> <li>How do I add a nav item? Set <code>showInNav: true</code> and <code>navOrder</code> in the page\u2019s frontmatter; update <code>mkdocs.yml</code> for wiki nav.</li> <li>Why is my blog post hidden? Future-dated posts (via <code>publishAt</code>) are suppressed until their date.</li> <li>Where do images go? Site assets in <code>public/</code>; wiki images in <code>docs/assets/</code>.</li> <li>How do I run the wiki locally? Install MkDocs + Material (<code>pip install mkdocs mkdocs-material</code>), then <code>mkdocs serve</code>.</li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":""},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 18+ and npm.</li> <li>Git for version control.</li> <li>Optional: Python 3.10+ and <code>pip install mkdocs mkdocs-material</code> if you want to preview this wiki locally.</li> </ul>"},{"location":"getting-started/#install-the-project","title":"Install the project","text":"<pre><code>git clone https://github.com/Open-BeatBox/Open-BeatBox.github.io.git\ncd Open-BeatBox.github.io\nnpm install\n</code></pre>"},{"location":"getting-started/#run-locally","title":"Run locally","text":"<pre><code>npm run dev\n# Open http://localhost:3000\n</code></pre>"},{"location":"getting-started/#validate-before-pushing","title":"Validate before pushing","text":"<ul> <li>Lint: <code>npm run lint</code></li> <li>Type check: <code>npm run type-check</code></li> <li>Tests: <code>npm run test</code></li> <li>Build: <code>npm run build</code></li> <li>Docs preview: <code>mkdocs serve</code> (from repo root)</li> </ul>"},{"location":"getting-started/#adding-content","title":"Adding content","text":"<ol> <li>Duplicate an existing Markdown file in <code>content/</code> (or create one).</li> <li>Set frontmatter: <code>title</code>, <code>layout</code> (e.g., <code>page</code> or <code>blog</code>), <code>slug</code>, <code>hero</code>, <code>sections</code>, and navigation fields (<code>showInNav</code>, <code>navOrder</code>).</li> <li>For blog posts, place files in <code>content/blog/</code> with <code>layout: \"blog\"</code> and <code>publishAt</code>. Future-dated posts stay hidden until their date.</li> <li>Run <code>npm run dev</code> to preview changes. Navigation derives from <code>showInNav</code> and <code>navOrder</code>.</li> </ol>"},{"location":"operations/","title":"Operations","text":""},{"location":"operations/#local-checks","title":"Local checks","text":"<ul> <li>Lint: <code>npm run lint</code></li> <li>Types: <code>npm run type-check</code></li> <li>Tests: <code>npm run test</code></li> <li>Build: <code>npm run build</code></li> <li>Docs (wiki): <code>mkdocs build --strict</code></li> </ul>"},{"location":"operations/#environment-variables","title":"Environment variables","text":"<p>Create <code>.env.local</code> from <code>.env.example</code>: - <code>MAILGUN_API_KEY</code>, <code>MAILGUN_DOMAIN</code>, <code>MAILGUN_API_URL</code>, <code>MAILGUN_FROM_EMAIL</code>, <code>MAILGUN_TO_EMAIL</code> \u2014 required for contact form delivery. - <code>NEXT_PUBLIC_SITE_URL</code> \u2014 canonical URLs, sitemap, and robots. - <code>NEXT_PUBLIC_RECAPTCHA_SITE_KEY</code> \u2014 optional reCAPTCHA support for contact forms.</p>"},{"location":"operations/#deployment-typical","title":"Deployment (typical)","text":"<ul> <li>Vercel or similar: connect the repo, set environment variables, deploy on pushes to <code>main</code>.</li> <li>GitHub Actions/Pages (static export): run <code>npm run build</code> then serve <code>.next</code> output with the platform\u2019s adapter (ensure the hosting platform supports Next.js features you use).</li> <li>Manual: <code>npm run build</code> then <code>npm run start</code> in the target environment.</li> </ul>"},{"location":"operations/#runbook-common-issues","title":"Runbook: common issues","text":"<ul> <li>Broken links or missing assets: run <code>npm run build</code> and fix reported paths; ensure images exist in <code>public/</code> or correct relative paths in Markdown.</li> <li>Future-dated blog post not visible: verify <code>publishAt</code> is in the past or remove it.</li> <li>Contact form errors: confirm Mailgun env vars, domain configuration, and network access. Check server logs for response codes.</li> <li>Navigation missing a page: ensure <code>showInNav: true</code> and <code>navOrder</code> are set, and frontmatter <code>slug</code> is correct.</li> <li>Stale caches: remove <code>.next/</code> and restart the dev server; for MkDocs, remove <code>.cache/</code> and rerun <code>mkdocs serve</code>.</li> </ul>"},{"location":"operations/#maintaining-the-wiki","title":"Maintaining the wiki","text":"<ul> <li>Edit Markdown in <code>docs/</code> and update <code>mkdocs.yml</code> navigation.</li> <li>Preview locally with <code>mkdocs serve</code>.</li> <li>Keep screenshots and diagrams in <code>docs/assets/</code> with descriptive filenames.</li> </ul>"}]}