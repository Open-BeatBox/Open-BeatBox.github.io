{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Beatbox Behavioral Cage System","text":"<p>Professional guide to operate, build, and contribute to the open-source Beatbox home-cage behavioral platform and its documentation site.</p>"},{"location":"#quick-links","title":"Quick links","text":"<ul> <li>Operate a cage: User Guide</li> <li>Build hardware: Hardware Build</li> <li>Handle data: Data &amp; Analysis</li> <li>Start coding: Getting Started (Dev)</li> <li>Contribute changes: Contributing</li> <li>System overview: Architecture</li> <li>Runbooks and deployments: Operations</li> </ul>"},{"location":"#what-this-repo-is","title":"What this repo is","text":"<ul> <li>The public site and documentation source for Beatbox, built with Next.js and Markdown content.</li> <li>Community and contributor docs (this MkDocs site) for operations, hardware guidance, and development workflow.</li> <li>Integration points for future firmware/runtime and data tooling references; add links as those repos are published.</li> </ul>"},{"location":"#beatbox-at-a-glance","title":"Beatbox at a glance","text":"<ul> <li>Ecological, automated operant-conditioning and home-cage monitoring for mice with 24/7 task access.</li> <li>Addresses short, stressful, experimenter-dependent sessions and poor standardization across labs.</li> <li>Modular hardware: environmental sensors (temperature, humidity, light), behavioral sensors (IR beam breaks, nosepoke, levers, capacitive touch), audio I/O, and a microcontroller with real-time firmware.</li> <li>Streams data to a local PC or server via USB or Wi\u2011Fi; exposes Python clients and REST/WebSocket APIs for access.</li> </ul>"},{"location":"architecture/","title":"Architecture","text":""},{"location":"architecture/#system-overview","title":"System overview","text":"<ul> <li>Beatbox is a modular home-cage behavioral platform combining hardware (sensors/actuators), firmware/runtime for task control, and data pipelines for acquisition and analysis.</li> <li>This repository hosts the public website and documentation; reference external firmware/runtime repos and hardware BOMs where applicable.</li> <li>Typical deployment: one controller per cage, networked to a collector or local storage, with a web presence for docs and community.</li> </ul>"},{"location":"architecture/#system-layers","title":"System layers","text":"<ol> <li>Hardware: cage, sensors (IR beam, nose-poke, capacitive touch, environmental), actuators (pellet/liquid dispenser, lights), power, and connectivity.</li> <li>Firmware/runtime (external repo): pin maps, task logic, device health metrics, logging, and networking (e.g., HTTP/MQTT).</li> <li>Data layer (external or shared): log transport, storage (raw + processed), QC pipelines, and dashboards.</li> <li>Docs/site (this repo): Next.js site rendering content from Markdown in <code>content/</code> and this MkDocs wiki under <code>docs/</code>.</li> </ol>"},{"location":"architecture/#repo-structure-this-site","title":"Repo structure (this site)","text":"<ul> <li><code>content/</code> \u2014 Markdown for pages and blog posts (<code>content/blog/</code>). <code>_site.md</code> stores global metadata (title, description, authors, default OG/Twitter assets).</li> <li><code>src/app/</code> \u2014 Next.js App Router routes, layout, sitemap/robots, loading and not-found states, API routes (including <code>api/send-email</code>).</li> <li><code>src/components/</code> \u2014 Reusable UI blocks for hero sections, content sections, navigation, and layout.</li> <li><code>src/lib/</code> \u2014 Content parsing (<code>content.ts</code>), icon registry, utilities (text truncation, formatting).</li> <li><code>public/</code> \u2014 Static assets (images, icons).</li> <li><code>styles/</code> \u2014 Tailwind layer config plus scoped component CSS.</li> <li><code>docs/</code> \u2014 MkDocs wiki pages; <code>mkdocs.yml</code> controls navigation.</li> </ul>"},{"location":"architecture/#content-pipeline-site","title":"Content pipeline (site)","text":"<ol> <li>Markdown is parsed with <code>gray-matter</code> for frontmatter and content body.</li> <li>Slugs default to the relative path (with <code>/home</code> mapped to <code>/</code>) unless explicitly set.</li> <li>Navigation is derived from pages with <code>showInNav</code> and ordered by <code>navOrder</code>; groups use <code>navGroup</code>.</li> <li>Blog posts respect <code>publishAt</code>; future-dated posts stay hidden.</li> <li>SEO metadata is built from page fields with fallbacks from <code>_site.md</code> (title, description, OG/Twitter defaults). Hero background images or the first Markdown image are used as OG images when available.</li> </ol>"},{"location":"architecture/#rendering-and-styling","title":"Rendering and styling","text":"<ul> <li>Markdown renders through <code>react-markdown</code> with <code>remark-gfm</code> and sanitized raw HTML via <code>rehype-raw</code> + <code>rehype-sanitize</code>.</li> <li>Tailwind CSS v4 (via <code>@tailwindcss/postcss</code>) provides utility layers; component-specific CSS refines the aesthetic.</li> <li>Fonts are loaded through <code>src/app/fonts.css</code>; global styles in <code>src/app/globals.css</code>.</li> </ul>"},{"location":"architecture/#api-and-integrations","title":"API and integrations","text":"<ul> <li>Contact form posts to <code>/api/send-email</code>, sanitizes inputs, and forwards through Mailgun. Configure <code>MAILGUN_API_KEY</code>, <code>MAILGUN_DOMAIN</code>, <code>MAILGUN_API_URL</code>, <code>MAILGUN_FROM_EMAIL</code>, and <code>MAILGUN_TO_EMAIL</code>.</li> <li>Optional Google reCAPTCHA: set <code>NEXT_PUBLIC_RECAPTCHA_SITE_KEY</code> and wire the client component.</li> </ul>"},{"location":"architecture/#build-and-output","title":"Build and output","text":"<ul> <li><code>npm run build</code> produces the production bundle under <code>.next/</code>.</li> <li><code>mkdocs build</code> (for this wiki) outputs to <code>site/</code> when needed; CI workflow publishes to <code>gh-pages</code>.</li> </ul>"},{"location":"changelog/","title":"Changelog","text":"<p>Use this page to capture notable changes for each release. Keep entries concise and link to pull requests or issues when useful.</p>"},{"location":"changelog/#unreleased","title":"Unreleased","text":"<ul> <li>Add new entries here as work lands.</li> </ul>"},{"location":"changelog/#template","title":"Template","text":"<ul> <li>Date / Version \u2014 short description of the change.</li> <li>Highlights: bullets of key updates.</li> <li>Links: PRs/issues (e.g., #123).</li> </ul>"},{"location":"content-style/","title":"Content Style Guide","text":""},{"location":"content-style/#voice-and-tone","title":"Voice and tone","text":"<ul> <li>Clear, concise, and confident; favor active voice.</li> <li>Assume readers are technically capable but may be new to behavioral hardware.</li> <li>Define domain terms on first use; avoid unexplained acronyms.</li> </ul>"},{"location":"content-style/#formatting","title":"Formatting","text":"<ul> <li>One H1 per page; use logical heading hierarchy.</li> <li>Prefer short paragraphs and bullet lists.</li> <li>Use fenced code blocks with language hints (<code>```bash</code>, <code>```ts</code>).</li> <li>Always include alt text for images; store assets in <code>docs/assets/</code> or <code>public/</code> as appropriate.</li> </ul>"},{"location":"content-style/#links-and-navigation","title":"Links and navigation","text":"<ul> <li>Use relative links between wiki pages (e.g., <code>[Development](development.md)</code>).</li> <li>Keep link text descriptive (<code>Preview locally</code> instead of <code>click here</code>).</li> <li>Update <code>mkdocs.yml</code> when adding new pages so navigation stays current.</li> </ul>"},{"location":"content-style/#examples","title":"Examples","text":"<ul> <li>Good: \u201cRun <code>npm run build</code> before merging to catch integration issues.\u201d</li> <li>Avoid: \u201cJust run the build\u201d (vague) or \u201cobviously\u201d (assumes knowledge).</li> </ul>"},{"location":"content-style/#writing-for-the-site-content","title":"Writing for the site content","text":"<ul> <li>Keep hero titles punchy; subtitles should clarify value.</li> <li>Section titles should summarize the takeaway (\u201cWhy Beatbox for home-cage tasks?\u201d).</li> <li>For FAQs, answer directly in the first sentence, then add detail if needed.</li> <li>When describing hardware, call out safety and calibration steps explicitly.</li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#code-of-conduct","title":"Code of conduct","text":"<p>Be respectful and constructive. Assume good intent, and surface concerns with empathy. Escalate harmful behavior to maintainers.</p>"},{"location":"contributing/#ways-to-contribute","title":"Ways to contribute","text":"<ul> <li>File issues with clear steps, expected vs. actual behavior, and screenshots/logs when helpful.</li> <li>Improve content structure and copy in <code>content/</code>.</li> <li>Extend components or styling to support new section types.</li> <li>Enhance documentation and runbooks in <code>docs/</code>.</li> <li>Contribute hardware build notes (BOM, wiring diagrams) and link to firmware/runtime repositories.</li> </ul>"},{"location":"contributing/#pull-request-checklist","title":"Pull request checklist","text":"<ul> <li>[ ] Branch created from <code>main</code></li> <li>[ ] <code>npm run lint</code>, <code>npm run type-check</code>, <code>npm run test</code>, and <code>npm run build</code> pass</li> <li>[ ] For docs: <code>mkdocs build --strict</code> passes</li> <li>[ ] Links and assets verified; navigation updated if needed</li> <li>[ ] PR description explains what/why, testing performed, and screenshots for UI changes</li> </ul>"},{"location":"contributing/#reviews-and-approvals","title":"Reviews and approvals","text":"<ul> <li>Seek at least one maintainer review for non-trivial changes.</li> <li>Address feedback with follow-up commits (avoid force-push when possible to keep context).</li> <li>Re-run validations after major updates.</li> <li>For hardware/firmware docs, include pin maps, configuration files, and version/commit references.</li> </ul>"},{"location":"contributing/#filing-issues","title":"Filing issues","text":"<ul> <li>Use a descriptive title.</li> <li>Include environment info (OS, browser, Node.js version); for hardware issues, add device ID, firmware/runtime version, and wiring notes.</li> <li>Provide reproduction steps or sample content snippets/logs that trigger the issue.</li> </ul>"},{"location":"data-analysis/","title":"Data &amp; Analysis","text":"<p>How to capture, store, and analyze data from Beatbox cages while keeping sessions reproducible and auditable.</p>"},{"location":"data-analysis/#data-pipeline-conceptual","title":"Data pipeline (conceptual)","text":"<ol> <li>Acquisition: firmware/runtime emits structured events (sensor triggers, actuator states, timestamps, task variables).</li> <li>Transport: logs saved locally (filesystem) and/or streamed to a collector (HTTP, MQTT, or WebSocket) over USB or Wi\u2011Fi.</li> <li>Storage: append-only raw logs; optional database or object storage for aggregation.</li> <li>Processing: convert raw logs to analysis-ready tables, merge with metadata (subject, task version, cohort).</li> <li>Visualization/analysis: notebooks or dashboards for QC, performance, and longitudinal trends.</li> </ol>"},{"location":"data-analysis/#logging-guidelines","title":"Logging guidelines","text":"<ul> <li>Use structured formats (JSON lines or CSV) with explicit field names and units.</li> <li>Include: timestamp (ISO 8601, with timezone or UTC), device ID, subject ID, task version, firmware/runtime version, and configuration hash.</li> <li>Record both sensor events and actuator commands; mark errors and retries.</li> <li>Keep a manifest per session linking raw logs to metadata (subject, cohort, task parameters).</li> <li>When available, export JSON-LD metadata to align with FAIR workflows.</li> </ul>"},{"location":"data-analysis/#sync-and-retention","title":"Sync and retention","text":"<ul> <li>Offload logs after each session or daily; avoid long-running local-only storage.</li> <li>Verify transfers (hashes/checksums) before deleting local copies.</li> <li>Define retention policies for raw vs. processed data; keep raw indefinitely when feasible.</li> <li>Python client and REST/WebSocket APIs can stream data to your collector; include device and session identifiers in streams.</li> </ul>"},{"location":"data-analysis/#qc-and-monitoring","title":"QC and monitoring","text":"<ul> <li>Build a lightweight QC report per session: event counts, latency distributions, reward totals, and missing data flags.</li> <li>Track device health: uptime, dropped packets, storage utilization, temperature.</li> <li>Alert on clock drift, missing heartbeats, or failed log uploads.</li> </ul>"},{"location":"data-analysis/#analysis-starter-workflow","title":"Analysis starter workflow","text":"<pre><code># Example sketch using Python/pandas for JSONL logs\npython - &lt;&lt;'PY'\nimport json, pandas as pd, pathlib, glob\n\npaths = glob.glob(\"data/raw/*.jsonl\")\ndf = pd.concat(pd.read_json(p, lines=True) for p in paths)\ndf[\"timestamp\"] = pd.to_datetime(df[\"timestamp\"], utc=True)\n\n# Filter a session\nsession = df[df[\"session_id\"] == \"YOUR_SESSION_ID\"].copy()\n\n# Basic QC\nprint(session[\"event_type\"].value_counts())\nprint(session.groupby(\"event_type\")[\"latency_ms\"].describe())\nPY\n</code></pre>"},{"location":"data-analysis/#reproducibility","title":"Reproducibility","text":"<ul> <li>Version control task configs and firmware/runtime; include commit hashes in logs.</li> <li>Keep environment files for analysis (e.g., <code>requirements.txt</code> or <code>environment.yml</code>).</li> <li>Document preprocessing steps and notebook links per study.</li> </ul>"},{"location":"data-analysis/#data-access-control","title":"Data access control","text":"<ul> <li>Anonymize subject IDs when sharing outside the core team.</li> <li>Avoid logging PII; limit metadata to study-relevant identifiers.</li> <li>For collaborative datasets, publish a data dictionary describing every field.</li> </ul>"},{"location":"development/","title":"Development","text":""},{"location":"development/#branching-and-flow","title":"Branching and flow","text":"<ul> <li>Create topic branches from <code>main</code> (e.g., <code>feature/&lt;topic&gt;</code> or <code>dax/&lt;topic&gt;</code>).</li> <li>Keep commits small and purposeful; write present-tense messages (<code>Add community docs</code>).</li> <li>Open pull requests early for feedback; request at least one review before merging.</li> </ul>"},{"location":"development/#core-commands","title":"Core commands","text":"<ul> <li>Dev server: <code>npm run dev</code></li> <li>Lint: <code>npm run lint</code></li> <li>Types: <code>npm run type-check</code></li> <li>Tests: <code>npm run test</code></li> <li>Build: <code>npm run build</code></li> <li>Docs preview: <code>mkdocs serve</code></li> </ul>"},{"location":"development/#content-workflow","title":"Content workflow","text":"<ol> <li>Add or edit Markdown in <code>content/</code>.</li> <li>Ensure frontmatter includes <code>layout</code>, <code>slug</code>, <code>hero</code>, <code>sections</code>, and navigation fields when needed.</li> <li>For blog posts, confirm <code>publishAt</code> is set and in the past if you want it live.</li> <li>Check SEO: hero images, metadata in <code>content/_site.md</code>, and page-level overrides as needed.</li> <li>Run <code>npm run dev</code> to visually verify sections render correctly.</li> </ol>"},{"location":"development/#hardwarefirmware-references","title":"Hardware/firmware references","text":"<ul> <li>Keep links to hardware BOMs, pin maps, and firmware repos up to date within site content and this wiki.</li> <li>When documenting tasks or runtimes, include version/commit hashes and configuration files.</li> <li>Use diagrams (Mermaid or images) in <code>docs/assets/</code> to capture wiring and data flow for future contributors.</li> <li>When referencing Beatbox device setup, align with the build steps and firmware flashing flow described in the Build &amp; Code page on the main site and summarized in this wiki.</li> </ul>"},{"location":"development/#quality-gates","title":"Quality gates","text":"<ul> <li><code>npm run lint</code> and <code>npm run type-check</code> must pass.</li> <li><code>npm run build</code> before merging larger changes to catch integration issues.</li> <li><code>mkdocs build --strict</code> before publishing wiki updates to avoid broken links.</li> <li>Add screenshots or diagrams to <code>docs/assets/</code> when useful and reference them with relative paths.</li> </ul>"},{"location":"development/#security-and-data-handling","title":"Security and data handling","text":"<ul> <li>The contact endpoint sanitizes fields, but keep payloads minimal and avoid collecting sensitive data unnecessarily.</li> <li>Do not commit secrets; use <code>.env.local</code> for local development and platform-specific secret storage in deployment environments.</li> </ul>"},{"location":"faq/","title":"FAQ","text":"<ul> <li>How do I preview the site locally? Run <code>npm run dev</code> and open http://localhost:3000.</li> <li>How do I preview the wiki? Install MkDocs + Material (<code>pip install mkdocs mkdocs-material</code>), then <code>mkdocs serve</code>.</li> <li>Where do docs live? MkDocs wiki files are in <code>docs/</code>; site content lives in <code>content/</code>.</li> <li>How do I add a nav item to the site? Set <code>showInNav: true</code> and <code>navOrder</code> in the page\u2019s frontmatter.</li> <li>How do I add a nav item to the wiki? Add the page to <code>mkdocs.yml</code> under <code>nav</code>.</li> <li>Why is my blog post hidden? Future-dated posts (via <code>publishAt</code>) are suppressed until their date.</li> <li>Where do images go? Site assets in <code>public/</code>; wiki images in <code>docs/assets/</code>.</li> <li>How do I link firmware or hardware docs? Add the repo or file links in relevant pages (e.g., Hardware Build) and keep version/commit references.</li> <li>How do I deploy the wiki? Push to <code>main</code> or run the MkDocs workflow manually; it publishes <code>site/</code> to <code>gh-pages</code>.</li> </ul>"},{"location":"getting-started/","title":"Getting Started (Dev)","text":"<p>For contributors working on the Beatbox website and documentation.</p>"},{"location":"getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 18+ and npm.</li> <li>Git for version control.</li> <li>Optional: Python 3.10+ and <code>pip install mkdocs mkdocs-material</code> to preview this wiki locally.</li> </ul>"},{"location":"getting-started/#install-the-project","title":"Install the project","text":"<pre><code>git clone https://github.com/Open-BeatBox/Open-BeatBox.github.io.git\ncd Open-BeatBox.github.io\nnpm install\n</code></pre>"},{"location":"getting-started/#run-locally","title":"Run locally","text":"<pre><code>npm run dev\n# Open http://localhost:3000\n</code></pre>"},{"location":"getting-started/#validate-before-pushing","title":"Validate before pushing","text":"<ul> <li>Lint: <code>npm run lint</code></li> <li>Type check: <code>npm run type-check</code></li> <li>Tests: <code>npm run test</code></li> <li>Build: <code>npm run build</code></li> <li>Docs preview: <code>mkdocs serve</code> (from repo root)</li> </ul>"},{"location":"getting-started/#adding-site-content","title":"Adding site content","text":"<ol> <li>Duplicate an existing Markdown file in <code>content/</code> (or create one).</li> <li>Set frontmatter: <code>title</code>, <code>layout</code> (e.g., <code>page</code> or <code>blog</code>), <code>slug</code>, <code>hero</code>, <code>sections</code>, and navigation fields (<code>showInNav</code>, <code>navOrder</code>).</li> <li>For blog posts, place files in <code>content/blog/</code> with <code>layout: \"blog\"</code> and <code>publishAt</code>. Future-dated posts stay hidden until their date.</li> <li>Run <code>npm run dev</code> to preview changes. Navigation derives from <code>showInNav</code> and <code>navOrder</code>.</li> </ol>"},{"location":"getting-started/#working-on-the-wiki","title":"Working on the wiki","text":"<ul> <li>Edit Markdown in <code>docs/</code> and update navigation in <code>mkdocs.yml</code> when adding pages.</li> <li>Preview the wiki with <code>mkdocs serve</code> and validate with <code>mkdocs build --strict</code>.</li> </ul>"},{"location":"hardware-build/","title":"Hardware Build","text":"<p>Guidance to assemble, wire, and validate a Beatbox cage. Adapt details to your bill of materials (BOM) and enclosure design.</p>"},{"location":"hardware-build/#bill-of-materials-bom","title":"Bill of materials (BOM)","text":"<ul> <li>Cage and enclosure: printed or machined parts, fasteners, cable glands, mounting hardware, and removable panels for modularity.</li> <li>Controller: microcontroller (e.g., ESP32) or single-board computer (e.g., Raspberry Pi) with real-time firmware support.</li> <li>Sensors: IR beam breaks or nose-poke sensors, levers, capacitive touch, load cells (optional), environmental sensors (temperature, humidity, light), audio I/O.</li> <li>Actuators: pellet or liquid dispenser, indicator LEDs, house lights, speakers/buzzers (if needed).</li> <li>Power: regulated supply sized for peak actuator draw; include fusing and protection.</li> <li>Connectivity: Wi\u2011Fi or Ethernet module, USB/serial breakout for setup and streaming.</li> <li>Misc: wiring harnesses with labeled connectors, strain relief, cable management, and shielding as required.</li> </ul> <p>Keep the authoritative BOM in version control; include part numbers, vendors, and acceptable substitutes.</p>"},{"location":"hardware-build/#assembly-steps-high-level","title":"Assembly steps (high-level)","text":"<ol> <li>Download CAD, STL, PCB, and wiring diagrams from the Beatbox repository (see Build &amp; Code page).</li> <li>Prepare enclosure panels and mounts; remove burrs/sharp edges.</li> <li>Install controller and breakouts on standoffs; route power separately from signal lines where possible.</li> <li>Mount sensors and actuators; label each connector to match pin assignments.</li> <li>Run wiring harnesses with strain relief; bundle and secure away from chewable areas.</li> <li>Add shielding or twisted pairs for noise-sensitive lines (load cells, analog sensors).</li> <li>Finalize power input (fuse, switch) and verify voltage at each load before connecting animals.</li> </ol>"},{"location":"hardware-build/#wiring-and-pin-mapping","title":"Wiring and pin mapping","text":"<ul> <li>Maintain a pin map document (CSV or Markdown) with signal names, pin numbers, voltage levels, and connector labels.</li> <li>Standardize wire colors per signal type (power, ground, data, control).</li> <li>Where possible, use keyed connectors to prevent mis-plugging.</li> </ul>"},{"location":"hardware-build/#firmwareruntime-configuration","title":"Firmware/runtime configuration","text":"<ul> <li>Store hardware definitions (pin maps, debounce thresholds, calibration constants) in a tracked config file.</li> <li>Provide profiles per build variant (e.g., \u201cIR-only\u201d, \u201cIR + load cell\u201d, \u201ctouch nose-poke\u201d).</li> <li>Version the firmware/runtime alongside the config so you can trace sessions to exact builds.</li> <li>Follow the firmware flashing steps from the Build &amp; Code flow: install toolchain, clone firmware repo, configure for your hardware variant, and flash.</li> </ul>"},{"location":"hardware-build/#calibration-and-validation","title":"Calibration and validation","text":"<ul> <li>IR/beam or nose-poke: confirm detection at expected distances; test with known obstructions.</li> <li>Reward dispenser: measure and record average delivery per trigger; adjust timing/steps to meet spec.</li> <li>Environmental sensors: cross-check against a calibrated reference; set alert thresholds.</li> <li>Time sync: verify NTP/RTC; log offsets during validation.</li> <li>Run a dry task: simulate events and ensure logs capture timestamps, sensor values, and actuator states.</li> </ul>"},{"location":"hardware-build/#maintenance","title":"Maintenance","text":"<ul> <li>Daily: visual inspection, cable seating, sensor/actuator sanity checks.</li> <li>Weekly: clean sensors and actuators, check fasteners, inspect cable strain relief.</li> <li>Monthly/after major changes: full calibration pass and pin-map verification.</li> </ul>"},{"location":"hardware-build/#safety-notes","title":"Safety notes","text":"<ul> <li>Disconnect power before rewiring.</li> <li>Avoid overloading power rails; check total draw during peak actuator use.</li> <li>Keep wiring and electronics outside the animal area when feasible.</li> </ul>"},{"location":"operations/","title":"Operations","text":""},{"location":"operations/#local-checks-site-wiki","title":"Local checks (site + wiki)","text":"<ul> <li>Lint: <code>npm run lint</code></li> <li>Types: <code>npm run type-check</code></li> <li>Tests: <code>npm run test</code></li> <li>Build: <code>npm run build</code></li> <li>Docs (wiki): <code>mkdocs build --strict</code></li> </ul>"},{"location":"operations/#environment-variables","title":"Environment variables","text":"<p>Create <code>.env.local</code> from <code>.env.example</code>: - <code>MAILGUN_API_KEY</code>, <code>MAILGUN_DOMAIN</code>, <code>MAILGUN_API_URL</code>, <code>MAILGUN_FROM_EMAIL</code>, <code>MAILGUN_TO_EMAIL</code> \u2014 required for contact form delivery. - <code>NEXT_PUBLIC_SITE_URL</code> \u2014 canonical URLs, sitemap, and robots. - <code>NEXT_PUBLIC_RECAPTCHA_SITE_KEY</code> \u2014 optional reCAPTCHA support for contact forms.</p>"},{"location":"operations/#deployment-site","title":"Deployment (site)","text":"<ul> <li>Vercel or similar: connect the repo, set environment variables, deploy on pushes to <code>main</code>.</li> <li>GitHub Actions/Pages (static export): run <code>npm run build</code> then serve <code>.next</code> output with the platform\u2019s adapter (ensure the hosting platform supports the Next.js features you use).</li> <li>Manual: <code>npm run build</code> then <code>npm run start</code> in the target environment.</li> </ul>"},{"location":"operations/#deployment-mkdocs-wiki","title":"Deployment (MkDocs wiki)","text":"<ul> <li>CI workflow: <code>.github/workflows/mkdocs.yml</code> builds <code>docs/</code> with <code>mkdocs build --strict</code> and publishes <code>site/</code> to the <code>gh-pages</code> branch on pushes to <code>main</code> or manual dispatch.</li> <li>Enable GitHub Pages from the <code>gh-pages</code> branch (root).</li> </ul>"},{"location":"operations/#runbook-common-issues","title":"Runbook: common issues","text":"<ul> <li>Broken links or missing assets: run <code>npm run build</code> and fix reported paths; ensure images exist in <code>public/</code> or correct relative paths in Markdown.</li> <li>Future-dated blog post not visible: verify <code>publishAt</code> is in the past or remove it.</li> <li>Contact form errors: confirm Mailgun env vars, domain configuration, and network access. Check server logs for response codes.</li> <li>Navigation missing a page: ensure <code>showInNav: true</code> and <code>navOrder</code> are set, and frontmatter <code>slug</code> is correct.</li> <li>Stale caches: remove <code>.next/</code> and restart the dev server; for MkDocs, remove <code>.cache/</code> and rerun <code>mkdocs serve</code>.</li> </ul>"},{"location":"operations/#maintaining-the-wiki","title":"Maintaining the wiki","text":"<ul> <li>Edit Markdown in <code>docs/</code> and update <code>mkdocs.yml</code> navigation.</li> <li>Preview locally with <code>mkdocs serve</code>.</li> <li>Keep screenshots and diagrams in <code>docs/assets/</code> with descriptive filenames.</li> </ul>"},{"location":"operations/#field-operations-reminders","title":"Field operations reminders","text":"<ul> <li>Back up configurations before firmware/runtime updates.</li> <li>Keep a device inventory with firmware versions and configuration hashes.</li> <li>For multi-cage deployments, monitor clock sync and storage health; schedule periodic validation runs.</li> </ul>"},{"location":"user-guide/","title":"User Guide","text":"<p>Practical steps to deploy, operate, and maintain a Beatbox home-cage behavioral system.</p>"},{"location":"user-guide/#beatbox-at-a-glance","title":"Beatbox at a glance","text":"<ul> <li>Ecological, automated operant-conditioning and home-cage monitoring for mice with continuous (24/7) access to tasks.</li> <li>Typical stack: microcontroller or SBC, environmental/behavioral sensors (IR beam breaks, nosepoke, levers, capacitive touch), actuators (pellet or liquid dispenser, lights), audio I/O, network connectivity, and a data pipeline for experiment logs.</li> <li>Streams to a local PC or server via USB or Wi\u2011Fi; APIs exposed through Python clients and REST/WebSocket interfaces.</li> </ul>"},{"location":"user-guide/#before-you-start","title":"Before you start","text":"<ul> <li>Confirm you have a complete kit (see Hardware Build for BOM and wiring).</li> <li>Prepare network access (wired or Wi\u2011Fi) and power.</li> <li>Install client tools you\u2019ll use to interact with the device (e.g., SSH, serial console, or a web UI if provided).</li> </ul>"},{"location":"user-guide/#setup-checklist","title":"Setup checklist","text":"<ol> <li>Assemble the cage and verify all connections are secure and labeled (see Hardware Build).</li> <li>Power on with no animals present; confirm baseline sensor readings.</li> <li>Connect to the device (USB/serial, SSH, or web UI) and check firmware version.</li> <li>Configure network, timezone, and storage paths for data logs.</li> <li>Load the initial behavioral task configuration; keep a copy under version control.</li> <li>Run a dry run: trigger sensors manually, observe actuator behavior, and confirm events log to the expected storage or stream as expected.</li> </ol>"},{"location":"user-guide/#running-experiments","title":"Running experiments","text":"<ol> <li>Prepare the subject and cage (clean bedding, water, food hoppers calibrated).</li> <li>Start the task: launch via CLI/web UI or schedule on boot.</li> <li>Monitor health signals: temperature/humidity, error logs, and network stability.</li> <li>Mark experimental metadata (animal ID, cohort, task version, start time) in the run record.</li> <li>End of session: stop the task, export or sync logs, and note anomalies.</li> </ol>"},{"location":"user-guide/#daily-validation","title":"Daily validation","text":"<ul> <li>Sensor sanity check: light, temperature/humidity, beam breaks or nose-poke sensors respond within expected latency.</li> <li>Actuator check: reward delivery and lights activate reliably; no jams in dispensers.</li> <li>Storage and sync: ensure logs rotate and offload; verify free space.</li> <li>Time sync: confirm NTP or RTC is correct to keep timestamps aligned.</li> </ul>"},{"location":"user-guide/#safety-and-welfare","title":"Safety and welfare","text":"<ul> <li>Never power-cycle with animals inside if wiring is exposed.</li> <li>Keep cables secured outside chewable range; use strain relief.</li> <li>Avoid sharp edges or protruding components in the cage.</li> <li>Document deviations from standard operating procedures.</li> </ul>"},{"location":"user-guide/#updating-firmwareruntime","title":"Updating firmware/runtime","text":"<ul> <li>Back up current configuration and logs.</li> <li>Apply updates in a maintenance window; note firmware/runtime version and commit hash.</li> <li>After updating, rerun validation and a short pilot session before resuming production use.</li> </ul>"},{"location":"user-guide/#troubleshooting-quick-hits","title":"Troubleshooting quick hits","text":"<ul> <li>No sensor events: re-seat connectors, check pin mappings, confirm firmware config, and watch serial logs.</li> <li>Network drops: test with wired fallback if available; check power stability and Wi\u2011Fi signal strength.</li> <li>Timestamp drift: ensure NTP is enabled or sync RTC; avoid offline runs longer than the clock can hold.</li> <li>No rewards dispensed: inspect hopper/dispenser for jams; test actuator manually; confirm task logic thresholds.</li> </ul>"},{"location":"user-guide/#data-handling","title":"Data handling","text":"<ul> <li>Keep raw logs immutable; derive analysis-ready tables separately.</li> <li>Record task version and configuration alongside each session.</li> <li>For multi-cage setups, enforce consistent subject IDs and clock sync across devices.</li> <li>Data is typically streamed via USB/Wi\u2011Fi to a local PC/server and exposed through Python clients or REST/WebSocket APIs; see Data &amp; Analysis for pipelines and formats.</li> </ul>"}]}